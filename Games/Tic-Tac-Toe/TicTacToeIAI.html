<html>
<!--File: Tic Tac Toe game - AI version
    Author: created by Erin Santos-->
<style>
     body {text-align: center; background-color: #000000; color:#74f369; text-shadow: 0 0 10px rgb(23, 244, 5); font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif}  
    table.center, td {
        /*CSS for table*/
        margin-left:auto; 
        margin-right:auto;
        height: 30%;
        width: 30%;
        border: 1px solid black;
        border-collapse: collapse;
    }
    th, td {
        /*CSS for table cells*/
        height: 30%;
        width: 30%;
    }
    input {
        /*CSS for inputs*/
        width: 100%;
        height: 100%;
        border: 1px solid rgb(254, 1, 154);
        background-color:#000000;
        font-size: 100px;
        color:#74f369;
        text-shadow: 0 0 10px rgb(23, 244, 5);
    }
    button {
        /*CSS for buttons - same color and text shadow as inputs - needs to be this way for it to work properly*/
        padding:5px;
        background-color:#000000;
        border: 1px solid rgb(254, 1, 154);
        color:#74f369;
        text-shadow: 0 0 10px rgb(23, 244, 5);
        font-size:100%;
    }
</style>
<body>
    <h1>Tic-Tac-Toe</h1>
    <br>
    <table class="center">
       <!--Creation of game table, each cell is a button for the user to click on to make a move-->
        <tr>
            <td><input type="button" id = "b1"  onclick = move(b1) value = ""/></td>
            <td><input type="button" id = "b2"  onclick = move(b2) value = ""/></td>
            <td><input type="button" id = "b3"  onclick = move(b3) value = ""/></td>
        </tr>
        <tr>
            <td><input type="button" id = "b4"  onclick = move(b4) value = ""/></td>
            <td><input type="button" id = "b5"  onclick = move(b5) value = ""/></td>
            <td><input type="button" id = "b6"  onclick = move(b6) value = ""/></td>
        </tr>
        <tr>
            <td><input type="button" id = "b7"  onclick = move(b7) value = ""/></td>
            <td><input type="button" id = "b8"  onclick = move(b8) value = ""/></td>
            <td><input type="button" id = "b9"  onclick = move(b9) value = ""/></td>
        </tr>
    </table>
    <br>
    <button onclick = "reset()">Play Again</button>
    <p>How to play: to make a move, click on a box. Get three in a row to win.</p>

    <script>
        
        //Sets timeout for 30 seconds - after timeout will be redirected to the end page
        var timer = setTimeout(close,30000);

        function close(){
            //Function to redirect user to the endpage
            window.location.href = "https://18edir.github.io/edr48.github.io/interface/interface/endpage.html";
        }

        function reset(){
            //Reset function - clears button values and sets disabled to false
            var b1 = document.getElementById("b1");
            var b2 = document.getElementById("b2");
            var b3 = document.getElementById("b3");
            var b4 = document.getElementById("b4");
            var b5 = document.getElementById("b5");
            var b6 = document.getElementById("b6");
            var b7 = document.getElementById("b7");
            var b8 = document.getElementById("b8");
            var b9 = document.getElementById("b9");

            b1.value = "";
            b2.value = "";
            b3.value = "";
            b4.value = "";
            b5.value = "";
            b6.value = "";
            b7.value = "";
            b8.value = "";
            b9.value = "";

            b1.disabled = false;
            b2.disabled = false;
            b3.disabled = false;
            b4.disabled = false;
            b5.disabled = false;
            b6.disabled = false;
            b7.disabled = false;
            b8.disabled = false;
            b9.disabled = false;
        }

        function buttonDisable(){
            //Function to disable all buttons - used when a player wins
            b1.disabled = true;
            b2.disabled = true;
            b3.disabled = true;
            b4.disabled = true;
            b5.disabled = true;
            b6.disabled = true;
            b7.disabled = true;
            b8.disabled = true;
            b9.disabled = true;
        }

        function win(player){ 
            // Function to decide winner and alert users
            buttonDisable() //Disables buttons

            if (player == "X"){ // if player one is the winner, alert called
                alert("X wins!");
            } 
            else if (player == "O"){ // if computer is the winner, alert called
                alert("O wins!");
            }
            else if (player == "XO"){ //if game is a tie, alert is called
                alert("Tie!")
            }
        }

        function winCheck(){
            //Function to check if the player has won, if a win is found win function is called
            //Uses conditionals and buton values to check every possible way to win
            var b1 = document.getElementById("b1");
            var b2 = document.getElementById("b2");
            var b3 = document.getElementById("b3");
            var b4 = document.getElementById("b4");
            var b5 = document.getElementById("b5");
            var b6 = document.getElementById("b6");
            var b7 = document.getElementById("b7");
            var b8 = document.getElementById("b8");
            var b9 = document.getElementById("b9");

            if (((b1.value == "X") || (b1.value=="O")) && ((b1.value==b2.value)) && ((b2.value==b3.value))){
                win(b1.value)
            }
            else if (((b4.value == "X") || (b4.value=="O")) && ((b4.value==b5.value)) && ((b5.value==b6.value))){
                win(b4.value)
            }
            else if (((b7.value == "X") || (b7.value=="O")) && ((b7.value==b8.value)) && ((b8.value==b9.value))){
                win(b7.value)
            }
            else if (((b1.value == "X") || (b1.value=="O")) && ((b1.value==b4.value)) && ((b4.value==b7.value))){
                win(b1.value)
            }
            else if (((b2.value == "X") || (b2.value == "O")) && (b5.value==b2.value) && (b5.value==b8.value)){
                win(b2.value)
            }
            else if (((b3.value == "X") || (b3.value == "O")) && (b3.value == b6.value) && (b6.value==b9.value)){
                win(b3.value)
            }
            else if (((b1.value == "X") || (b1.value=="O")) && ((b1.value==b5.value)) && ((b5.value==b9.value))){
                win(b1.value)
            }
            else if (((b3.value == "X") || (b3.value=="O")) && ((b3.value==b5.value)) && ((b5.value==b7.value))){
                win(b3.value)
            }
            else if ((b1.disabled == true) && (b2.disabled == true) && (b3.disabled == true) && (b4.disabled == true) && (b5.disabled == true) && (b6.disabled == true) && (b7.disabled == true) && (b8.disabled == true) && (b9.disabled == true)) {
                win("XO")
            }
        }
        
        function compMove(){
            //Move function for computer - uses conditionals to check if a move was already made for each button, calls winCheck to check if there is a winner
            var compChar = "O";
            var b1 = document.getElementById("b1");
            var b2 = document.getElementById("b2");
            var b3 = document.getElementById("b3");
            var b4 = document.getElementById("b4");
            var b5 = document.getElementById("b5");
            var b6 = document.getElementById("b6");
            var b7 = document.getElementById("b7");
            var b8 = document.getElementById("b8");
            var b9 = document.getElementById("b9");

            if (((b1.value == "X") || (b1.value=="O")) && ((b1.value==b2.value)) && (b3.disabled == false)){
                b3.value = compChar;
                b3.disabled = true;
                winCheck()
            }
            else if (((b4.value == "X") || (b4.value=="O")) && ((b4.value==b5.value)) && (b6.disabled == false)){
                b6.value = compChar;
                b6.disabled = true;
                winCheck()
            }
            else if (((b7.value == "X") || (b7.value=="O")) && ((b7.value==b8.value)) && ((b9.disabled == false))){
                b9.value = compChar;
                b9.disabled = true;
                winCheck()
            }
            else if (((b1.value == "X") || (b1.value=="O")) && ((b1.value==b4.value)) && ((b7.disabled == false))){
                b7.value = compChar;
                b7.disabled = true;
                winCheck()
            }
            else if (((b2.value == "X") || (b2.value == "O")) && (b5.value==b2.value) && (b8.disabled == false)){
                b8.value = compChar;
                b8.disabled = true;
                winCheck()
            }
            else if (((b3.value == "X") || (b3.value == "O")) && (b3.value == b6.value) && (b9.disabled == false)){
                b9.value = compChar;
                b9.disabled = true;
                winCheck()
            }
            else if (((b1.value == "X") || (b1.value=="O")) && ((b1.value==b5.value)) && ((b9.disabled == false))){
                b9.value = compChar;
                b9.disabled = true;
                winCheck()
            }
            else if (((b3.value == "X") || (b3.value=="O")) && ((b3.value==b5.value)) && ((b7.disabled == false))){
                b7.value = compChar;
                b7.disabled = true;
                winCheck()
            }
            else if (b1.disabled == false){
                b1.value = compChar;
                b1.disabled = true;
                winCheck()
            }
            else if (b2.disabled == false){
                b2.value = compChar;
                b2.disabled = true;
                winCheck()
            }
            else if (b3.disabled == false){
                b3.value = compChar;
                b3.disabled = true;
                winCheck()
            }
            else if (b4.disabled == false){
                b4.value = compChar;
                b4.disabled = true;
                winCheck()
            }
            else if (b5.disabled == false){
                b5.value = compChar;
                b5.disabled = true;
                winCheck()
            }
            else if (b6.disabled == false){
                b6.value = compChar;
                b6.disabled = true;
                winCheck()
            }
            else if (b7.disabled == false){
                b7.value = compChar;
                b7.disabled = true;
                winCheck()
            }
            else if (b8.disabled == false){
                b8.value = compChar;
                b8.disabled = true;
                winCheck()
            }
            else if (b9.disabled == false){
                b9.value = compChar;
                b9.disabled = true;
                winCheck()
            }
        }

        function move(buttonNum){
            //Move function for user - chosen button's value will be set to X, calls winCheck to check if there is a winner, 
            //if no winner calls compMove() so the computer can make a move
            if (buttonNum == b1){
                var button = document.getElementById("b1");
                button.value = "X";
                b1.disabled = true;
                winCheck();
                compMove()
            }
            else if (buttonNum == b2){
                var button = document.getElementById("b2");
                button.value = "X";
                b2.disabled = true;
                winCheck();
                compMove()
            }
            else if (buttonNum == b3){
                var button = document.getElementById("b3");
                button.value = "X";
                b3.disabled = true;
                winCheck();
                compMove()
            }
            else if (buttonNum == b4){
                var button = document.getElementById("b4");
                button.value = "X";
                b4.disabled = true;
                winCheck();
                compMove()
            }
            else if (buttonNum == b5){
                var button = document.getElementById("b5");
                button.value = "X";
                b5.disabled = true;
                winCheck();
                compMove()
            }
            else if (buttonNum == b6){
                var button = document.getElementById("b6");
                button.value = "X";
                b6.disabled = true;
                winCheck();
                compMove()
            }
            else if (buttonNum == b7){
                var button = document.getElementById("b7");
                button.value = "X";
                b7.disabled = true;
                winCheck();
                compMove()
            }
            else if (buttonNum == b8){
                var button = document.getElementById("b8");
                button.value = "X";
                b8.disabled = true;
                winCheck();
                compMove()
            }
            else if (buttonNum == b9){
                var button = document.getElementById("b9");
                button.value = "X";
                b9.disabled = true;
                winCheck();
                compMove()
            }
        }
    </script>
</body>

</html>